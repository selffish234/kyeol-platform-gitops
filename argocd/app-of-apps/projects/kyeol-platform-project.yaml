# ArgoCD Project: Platform Addons
# ?Œë«??? ë“œ??LBC, ExternalDNS ?? ë°°í¬???„ë¡œ?íŠ¸

apiVersion: argoproj.io/v1alpha1
kind: AppProject
metadata:
  name: kyeol-platform
  namespace: argocd
  finalizers:
    - resources-finalizer.argocd.argoproj.io
spec:
  description: "KYEOL Platform Addons (LBC, ExternalDNS, metrics-server)"

  # ?ŒìŠ¤ ?ˆí¬ì§€? ë¦¬ ?ˆìš©
  sourceRepos:
    - "https://github.com/YOUR_ORG/kyeol-platform-gitops.git"  # TODO: ?¤ì œ ?ˆí¬ë¡?ë³€ê²?
    - "https://aws.github.io/eks-charts"
    - "https://kubernetes-sigs.github.io/external-dns"
    - "https://kubernetes-sigs.github.io/metrics-server"

  # ë°°í¬ ?€???´ëŸ¬?¤í„°/?¤ì„?¤í˜?´ìŠ¤
  destinations:
    - namespace: kube-system
      server: https://kubernetes.default.svc
    - namespace: external-dns
      server: https://kubernetes.default.svc
    - namespace: '*'
      server: https://kubernetes.default.svc

  # ?´ëŸ¬?¤í„° ë¦¬ì†Œ???ˆìš©
  clusterResourceWhitelist:
    - group: '*'
      kind: '*'

  # ?¤ì„?¤í˜?´ìŠ¤ ë¦¬ì†Œ???ˆìš©
  namespaceResourceWhitelist:
    - group: '*'
      kind: '*'
